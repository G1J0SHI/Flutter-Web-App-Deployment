name: "Flutter Web App Deployment"
description: "Deploys the Flutter web application to GitHub pages."

branding:
  icon: "code"
  color: "blue"

inputs:
  branch:
    description: "The branch where the web app will be deployed."
    required: false
    default: "gh-pages"
  href:
    description: "The base href for the Flutter web application."
    required: false
    default: "/"
  name:
    description: "The name for Git commits."
    required: false
    default: "${{github.actor}}"
  email:
    description: "The email address for Git commits."
    required: false
    default: "${{github.actor}}@users.noreply.github.com"

runs:
  using: "composite"
  steps:
    - name: Configure Flutter for web
      shell: bash
      run: |
        flutter config --enable-web
        flutter create --platforms=web .

    - name: Build the Flutter web application
      shell: bash
      run: |
        flutter pub get
        flutter build web
